<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>小球碰撞</title>
	<script type="text/javascript" src="js-tools.js"></script>
	<style>
		.ball{
			width:50px;
			height:50px;
			background-color:red;
			border-radius:50%;
			position:absolute;
			left:0;
			top:0;
		}
	</style>
</head>
<body>
	<div class="ball"></div>
	<script>
	    var div = document.getElementsByTagName('div')[0];
	    var disX = 1,
			disY = 1;//dis不能放在定时器里面
		var timer = setInterval(function () {
			var maxTop = document.documentElement.clientHeight
						 - div.clientHeight,
				maxLeft = document.documentElement.clientWidth
							 - div.clientWidth;
			//当dis值改变时，不能等于窗口可视区域宽度 
			if(parseInt(div.style.top) > maxTop){
				parseInt(div.style.top) = maxTop;
			}
			if(parseInt(div.style.top) < 0){
				parseInt(div.style.top) = 0;
			}
			if(parseInt(div.style.left) > maxLeft){
				parseInt(div.style.left) = maxLeft;
			}
			if(parseInt(div.style.left) < 0){
				parseInt(div.style.left) = 0;
			}
			div.style.left = div.offsetLeft + disX + "px";
			div.style.top = div.offsetTop + disY + "px";
			if(parseInt(div.style.top) == maxTop){
				disY = -1;
			}else if(parseInt(div.style.top) == 0){
				disY = 1;
			}else if(parseInt(div.style.left) == maxLeft){
				disX = -1;
			}else if(parseInt(div.style.left) == 0){
				disX = 1;
			}
			// 窗口自适应
			window.resize = function () {
				div.style.left = 0;
				div.style.right = 0;
				disX = 1;
				disY = 1; 
			}
		},1);
	</script>
</body>
</html>